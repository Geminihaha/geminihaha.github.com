<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EaselJS 수도쿠</title>
    <link rel="stylesheet" href="style.css">
    <script src="../lib/easeljs-0.8.2.min.js"></script>
</head>
<body onload="init();">
    <div class="container">
        <header class="game-header">
            <h1 class="mini-title">Sudoku</h1>
            <div id="timerDisplay">00:00</div>
            <div class="header-btns">
                <button id="pauseBtn" class="small-btn" onclick="togglePause()">Pause</button>
                <button class="small-btn" onclick="showRecords()">🏆기록</button>
            </div>
        </header>
        
        <canvas id="gameCanvas" width="450" height="450"></canvas>
        
        <div class="controls">
            <div class="main-controls-row">
                <button class="new-game-btn" onclick="openNewGameModal()">New Game</button>
                <label class="hint-label"><input type="checkbox" id="hintToggle" onchange="updateHints()"> Hint</label>
            </div>
            
            <div id="numberKeypad" class="keypad">
                <!-- Buttons will be generated in JS -->
            </div>
        </div>
    </div>

    <!-- New Game Modal -->
    <div id="newGameModal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h2>새 게임 설정</h2>
            <div class="settings-group">
                <label>크기: 
                    <select id="sizeSelect">
                        <option value="9">9x9</option>
                        <option value="6">6x6</option>
                    </select>
                </label>
            </div>
            <div class="settings-group">
                <label>난이도: 
                    <select id="levelSelect">
                        <option value="easy">초급</option>
                        <option value="medium">중급</option>
                        <option value="hard">고수</option>
                    </select>
                </label>
            </div>
            <div class="settings-group">
                <label>방식: 
                    <select id="modeSelect" onchange="toggleModeUIInModal()">
                        <option value="random">랜덤</option>
                        <option value="select">번호선택</option>
                    </select>
                </label>
                <input type="number" id="puzzleNum" min="1" max="300" value="1" style="display:none; width: 60px;">
            </div>
            <div class="modal-btns">
                <button onclick="confirmNewGame()">시작</button>
                <button class="cancel-btn" onclick="closeNewGameModal()">취소</button>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="customAlert" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <p id="alertMessage"></p>
            <button onclick="closeAlert()">확인</button>
        </div>
    </div>

    <!-- Pause Modal -->
    <div id="pauseModal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h2>일시정지</h2>
            <p>게임이 일시정지되었습니다.</p>
            <button onclick="togglePause()">재개하기</button>
        </div>
    </div>

    <!-- Records Modal -->
    <div id="recordsModal" class="modal-overlay" style="display:none;">
        <div class="modal-content records-content">
            <h2>최고 기록</h2>
            <div id="recordsList"></div>
            <button onclick="closeRecords()">닫기</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
